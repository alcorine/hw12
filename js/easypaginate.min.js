/*
 * Easy Paginate
 * 
 * written by Alen Grakalic - http://cssglobe.com
 * adapted by Devi Mandiri - http://devi.web.id
 * 
 * Copyright (c) 2011 Alen Grakalic (http://cssglobe.com)
 * Dual licensed under the MIT and GPL.
 */(function($){$.easyPaginate=function(el,options){var plugin=this,o;plugin.$el=$(el),plugin.$el.data("easyPaginate",plugin);var step,lower,upper,children=plugin.$el.children(),count=children.length,next,prev,page=1,timer,clicked=!1,activePage,_idx=0,show=function(){clearTimeout(timer),lower=(page-1)*step,upper=lower+step;if(_idx==0){children.removeClass(o.current),children.hide().slice(lower,upper).show(),children.not(":hidden").eq(0).addClass(o.current),count>step&&o.nextprev&&(upper>=count?next.hide():next.show(),lower>=1?prev.show():prev.hide());var p=plugin.$el.parent().find("."+o.controls);p.length>0&&(p.find("li").removeClass(o.current),p.find('li[data-index="'+page+'"]').addClass(o.current))}if(o.auto)if(!o.clickstop||!clicked){if($.isFunction(o.onSlide)){var el=plugin.$el.find("."+o.current);o.onSlide.apply(el,arguments)}timer=setTimeout(function(){var len=children.not(":hidden").length-1;_idx<len?(_idx++,children.removeClass(o.current),children.not(":hidden").eq(_idx).addClass(o.current)):(_idx=0,upper>=count?page=1:page++),show()},o.delay)}};plugin.pause=function(){clicked=!1,o.auto=!1,show()},plugin.slide=function(){clicked=!1,o.auto=!0,show()};var init=function(){plugin.options=o=$.extend({},$.easyPaginate.defaults,options),plugin.$el.wrap('<div class="'+o.container+'" />'),step=o.step;if(count>step){var pages=Math.floor(count/step);count/step>pages&&pages++;var ol=$('<ol class="'+o.controls+'"></ol>').insertAfter(plugin.$el);o.nextprev&&(prev=$('<li class="prev">'+o.prevContent+"</li>").hide().appendTo(ol).click(function(){clicked=!0,page--,_idx=0,show()}));if(o.numeric)for(var i=1;i<=pages;i++)$('<li data-index="'+i+'">'+i+"</li>").appendTo(ol).click(function(){clicked=!0,page=$(this).attr("data-index"),_idx=0,show()});o.nextprev&&(next=$('<li class="next">'+o.nextContent+"</li>").hide().appendTo(ol).click(function(){clicked=!0,page++,_idx=0,show()}))}$.isFunction(o.onClick)&&children.click(function(){plugin.pause(),children.removeClass(o.current),$(this).addClass(o.current),_idx=children.not(":hidden").index(this),o.onClick.apply(this,arguments)}),show()};init()},$.easyPaginate.defaults={step:4,delay:4e3,numeric:!0,nextprev:!0,auto:!1,clickstop:!0,controls:"pagination",current:"current",container:"easy-paginate",prevContent:"Previous",nextContent:"Next",onClick:!1,onSlide:!1},$.fn.easyPaginate=function(options){return undefined==$(this).data("easyPaginate")?this.each(function(){new $.easyPaginate(this,options)}):$(this).data("easyPaginate")}})(jQuery)